import{r as o,j as t}from"./js/vendor/react-CJ2V4BqM.js";import{T as N}from"./js/components/theme-toggle.tsx-CW0RemP6.js";import{H}from"./js/components/header.tsx-3uzqPT7z.js";import{I as O}from"./js/components/input-form.tsx-CPJNcQYZ.js";import{R as P}from"./js/components/results-section.tsx-LS-JF2Xv.js";import{L as $}from"./js/components/loading-overlay.tsx-DStE172z.js";import{u as L}from"./js/hooks/use-theme.tsx-BzIc74gX.js";import{B as z}from"./js/components/background-pattern.tsx-DDgm4IlE.js";import{D as A}from"./js/components/decoration-elements.tsx-BFXgMZip.js";import{F as B}from"./js/components/footer.tsx-DhBaJyLG.js";import{a as I}from"./js/vendor/framer-motion-CLzqDuJ2.js";import"./js/vendor/lucide-react-CMa1GUhV.js";import"./js/vendor/html2canvas-BfYXEYrK.js";import"./js/vendor/marked-DK8KC6kv.js";import"./js/vendor/react-icons-sX9L970i.js";import"./js/vendor/motion-utils-BDWe_Wef.js";import"./js/vendor/motion-dom-Di8Hrc7E.js";function rt({lang:s}){const[a,i]=o.useState(""),[m,l]=o.useState(!1),[j,c]=o.useState(null),[n,p]=o.useState(null),[S,u]=o.useState(null),[g,T]=o.useState("idle"),[f,d]=o.useState(!1),[w,x]=o.useState(!1),{darkMode:e,setDarkMode:b}=L(),y=I(),F=async k=>{var h;k.preventDefault();try{l(!0),T("roasting");const r=await fetch(`/${s}/fetch-data`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(h=document.querySelector('meta[name="csrf-token"]'))==null?void 0:h.getAttribute("content")},body:JSON.stringify({username:a})});if(!r.ok){const E=await r.json();c(E.message||(s=="en"?"Something went wrong":"Terjadi kesalahan"));return}const{dataProfile:D,roastText:C}=await r.json();u(D),p(C),d(!0)}catch(r){c(r instanceof Error?r.message:s=="en"?"Something went wrong":"Terjadi kesalahan")}finally{l(!1)}},v=()=>{d(!1),p(null),u(null),i("")},R=()=>{n&&(navigator.clipboard.writeText(`Roast for @${a}:

${n}`),x(!0),setTimeout(()=>{x(!1)},2e3))};return t.jsxs("main",{className:`min-h-screen font-mono overflow-x-hidden transition-colors duration-300 ${e?"bg-zinc-900":"bg-[#FF5F1F]"} relative`,children:[t.jsx(z,{darkMode:e}),t.jsx(N,{darkMode:e,setDarkMode:b}),t.jsxs("div",{className:"relative w-full z-10",children:[t.jsx(A,{darkMode:e}),t.jsx(H,{showResults:f,resetForm:v,darkMode:e}),t.jsxs("div",{className:"pt-20 md:pt-24 pb-8 md:pb-10 px-3 md:px-8",children:[f?t.jsx(P,{username:a,profileData:S,roast:n,darkMode:e,copied:w,copyToClipboard:R,lang:s}):t.jsx(O,{username:a,setUsername:i,handleSubmit:F,loading:m,error:j,darkMode:e,flameControls:y,lang:s}),m&&t.jsx($,{stage:g,darkMode:e,lang:s})]})]}),t.jsx(B,{})]})}export{rt as H};
