import{r as o,j as t}from"./js/vendor/react-CJ2V4BqM.js";import{T as N}from"./js/components/theme-toggle.tsx-Bzj9N4G4.js";import{H}from"./js/components/header.tsx-C7k_UldF.js";import{I as O}from"./js/components/input-form.tsx-BK1s1JSf.js";import{R as P}from"./js/components/results-section.tsx-joyOMZkf.js";import{L as $}from"./js/components/loading-overlay.tsx-DStE172z.js";import{u as L}from"./js/hooks/use-theme.tsx-D1AMQvHO.js";import{B as z}from"./js/components/background-pattern.tsx-DDgm4IlE.js";import{D as A}from"./js/components/decoration-elements.tsx-BFXgMZip.js";import{F as B}from"./js/components/footer.tsx-DhBaJyLG.js";import{a as I}from"./js/vendor/framer-motion-CLzqDuJ2.js";import"./js/vendor/lucide-react-D5e_nBrO.js";import"./js/vendor/html2canvas-BfYXEYrK.js";import"./js/vendor/marked-DK8KC6kv.js";import"./js/vendor/react-dom-BRm_IiUy.js";import"./js/vendor/scheduler-BNqrtbQi.js";import"./js/vendor/react-icons-sX9L970i.js";import"./js/vendor/motion-utils-BDWe_Wef.js";import"./js/vendor/motion-dom-Di8Hrc7E.js";function nt({lang:s}){const[r,m]=o.useState(""),[l,c]=o.useState(!1),[j,p]=o.useState(null),[n,u]=o.useState(null),[g,d]=o.useState(null),[T,w]=o.useState("idle"),[f,x]=o.useState(!1),[b,h]=o.useState(!1),{darkMode:e,setDarkMode:y}=L(),F=I(),v=async C=>{var S;C.preventDefault();try{c(!0),w("roasting");const a=await fetch(`/${s}/fetch-data`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(S=document.querySelector('meta[name="csrf-token"]'))==null?void 0:S.getAttribute("content")},body:JSON.stringify({username:r})}),i=await a.json();if(!a.ok||!i.success){p(i.message||(s=="en"?"Something went wrong":"Terjadi kesalahan"));return}const{dataProfile:D,roastText:E}=i;d(D),u(E),x(!0)}catch(a){p(s=="en"?"Something went wrong":"Terjadi kesalahan"),console.error(a)}finally{c(!1)}},R=()=>{x(!1),u(null),d(null),m("")},k=()=>{n&&(navigator.clipboard.writeText(`Roast for @${r}:

${n}`),h(!0),setTimeout(()=>{h(!1)},2e3))};return t.jsxs("main",{className:`min-h-screen font-mono overflow-x-hidden transition-colors duration-300 ${e?"bg-zinc-900":"bg-[#FF5F1F]"} relative`,children:[t.jsx(z,{darkMode:e}),t.jsx(N,{darkMode:e,setDarkMode:y}),t.jsxs("div",{className:"relative w-full z-10",children:[t.jsx(A,{darkMode:e}),t.jsx(H,{showResults:f,resetForm:R,darkMode:e}),t.jsxs("div",{className:"pt-20 md:pt-24 pb-8 md:pb-10 px-3 md:px-8",children:[f?t.jsx(P,{username:r,profileData:g,roast:n,darkMode:e,copied:b,copyToClipboard:k,lang:s}):t.jsx(O,{username:r,setUsername:m,handleSubmit:v,loading:l,error:j,darkMode:e,flameControls:F,lang:s}),l&&t.jsx($,{stage:T,darkMode:e,lang:s})]})]}),t.jsx(B,{})]})}export{nt as H};
